<!doctype html><meta charset=utf-8><meta name=keywords content=bookmark><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Quanyin 的书签"><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css><style>.search{margin-top:50px}.list{margin-top:10px}</style><title>Quanyin's Bookmarks</title><body ng-app=BookmarksApp><div ng-controller=homeController class=container><center><h1>Quanyin's Bookmarks</h1></center><div class="row search"><div class=col-md-12><div class="input-group input-group-lg"><input class=form-control placeholder="Search for..." ng-model=search>
<span class=input-group-btn><button class="btn btn-default" type=button>Go!</button></span></div></div></div><div class="row list"><div class=col-md-12><div class=list-group><a href=# class="list-group-item active">{{title}}：{{bookmarksInfo.count}}</a>
<a ng-repeat="b in bookmarksInfo.data|filter:search" href={{b.url}} target=_blank class=list-group-item>{{b.name}}</a></div></div></div></div><script src=//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js></script><script src=//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js></script><script src=//cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.min.js></script><script>var bookmarksInfo={count:0,data:[]};var bookmarksApp=angular.module('BookmarksApp',[]).controller('homeController',function($scope,$http){$scope.title='Result';$http.get('Bookmarks').success(function(data){bookmarksInfo.data=[];bookmarksInfo.count=0;var bookmarkBar=data.roots.bookmark_bar;var other=data.roots.other;bookmarksApp.fetchBookmarksInfo(bookmarkBar);bookmarksApp.fetchBookmarksInfo(other);bookmarksInfo.count=bookmarksInfo.data.length;$scope.bookmarksInfo=bookmarksInfo;}).error(function(){alert('No data!');});});bookmarksApp.fetchBookmarksInfo=function(obj){if(obj['type']=='folder'){var children=obj['children'];for(var i=children.length-1;i>=0;i--){bookmarksApp.fetchBookmarksInfo(children[i]);}}else if(obj['type']=='url'){bookmarksInfo.data.push(obj);}else{console.log('No type!');}};</script>